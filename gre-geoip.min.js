class GREGeoIP{#e;#o="https://gregeoip.com/";#s=["security","timezone","currency","device"];#n=["EN","AR","DE","FR","ES","JA","ZH","RU"];#t=["JSON","XML","CSV","Newline"];#a=["language","flag","currency","timezone"];constructor(e){if(!(e&&e.length>0))throw new Error("You should pass the API Key.");this.#e=e}#r=function(e){var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return o.join("&")};#i(e,o,s){o.source="JS-Package";let n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&s(n.responseText)},n.open("GET",this.#o+"/"+e+"?"+this.#r(o),!0),n.send(null)}geoip(e={}){return new Promise(((o,s)=>{let n=e.params||[],t=e.format||"JSON",a=e.lang||"EN",r=e.mode||"live";a=a.toUpperCase(),n.forEach((e=>{e.length>0&&(this.#s.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')))})),this.#t.includes(t)||s(new Error('The `format` option value "'+a+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),this.#n.includes(a)||s(new Error('The `lang` option value "'+a+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),"live"!==r&&"test"!==r&&s(new Error('The `mode` option value "'+a+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),this.#i("GeoIP",{key:this.#e,params:n.join(","),format:t,lang:a,mode:r},(e=>{"object"!=typeof e&&(e=JSON.parse(e)),o(e)}))}))}lookup(e={}){return new Promise(((o,s)=>{let n=e.ip||"",t=e.params||[],a=e.format||"JSON",r=e.lang||"EN",i=e.mode||"live";r=r.toUpperCase(),n.length<7&&s(new Error("You should pass the `ip` parameter.")),t.forEach((e=>{e.length>0&&(this.#s.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')))})),this.#t.includes(a)||s(new Error('The `format` option value "'+r+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),this.#n.includes(r)||s(new Error('The `lang` option value "'+r+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),"live"!==i&&"test"!==i&&s(new Error('The `mode` option value "'+r+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),this.#i("IPLookup",{ip:n,key:this.#e,params:t.join(","),format:a,lang:r,mode:i},(e=>{"object"!=typeof e&&(e=JSON.parse(e)),o(e)}))}))}country(e={}){return new Promise(((o,s)=>{let n=e.countryCode||"",t=e.params||[],a=e.format||"JSON",r=e.lang||"EN",i=e.mode||"live";n=n.toUpperCase(),r=r.toUpperCase(),2!==n.length&&s(new Error("You should pass the `countryCode` parameter. Also, it should be a `ISO 3166-1 alpha-2` format.\nRead more at: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2")),t.forEach((e=>{e.length>0&&(this.#a.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `language`, `flag`, `currency` and/or `timezone`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')))})),this.#t.includes(a)||s(new Error('The `format` option value "'+r+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),this.#n.includes(r)||s(new Error('The `lang` option value "'+r+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),"live"!==i&&"test"!==i&&s(new Error('The `mode` option value "'+r+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),this.#i("Country",{CountryCode:n,key:this.#e,params:t.join(","),format:a,lang:r,mode:i},(e=>{"object"!=typeof e&&(e=JSON.parse(e)),o(e)}))}))}}