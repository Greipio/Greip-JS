class GREGeoIP{#key;#baseURL="https://gregeoip.com/";#availableGeoIPParams=["security","timezone","currency","device"];#availableLanguages=["EN","AR","DE","FR","ES","JA","ZH","RU"];#availableFormats=["JSON","XML","CSV","Newline"];#availableCountryParams=["language","flag","currency","timezone"];constructor(e){if(!(e&&e.length>0))throw new Error("You should pass the API Key.");this.#key=e}#serialize=function(e){var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return o.join("&")};#makeHttpRquest(e,o,s){o.source="JS-Package";let n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&200==n.status&&s(n.responseText)},n.open("GET",this.#baseURL+"/"+e+"?"+this.#serialize(o),!0),n.send(null)}geoip(e={params:"",format:"JSON",lang:"EN",mode:"live"}){return new Promise(((o,s)=>{let n=e.params,a=e.format,t=e.lang,r=e.mode;t=t.toUpperCase(),n.forEach((e=>{e.length>0&&(this.#availableGeoIPParams.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')))})),this.#availableFormats.includes(a)||s(new Error('The `format` option value "'+t+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),this.#availableLanguages.includes(t)||s(new Error('The `lang` option value "'+t+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),"live"!==r&&"test"!==r&&s(new Error('The `mode` option value "'+t+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/geoip-method#options')),this.#makeHttpRquest("GeoIP",{key:this.#key,params:n.join(","),format:a,lang:t,mode:r},(e=>{o(e)}))}))}lookup(e={ip:"",params:[],format:"JSON",lang:"EN",mode:"live"}){return new Promise(((o,s)=>{let n=e.ip,a=e.params,t=e.format,r=e.lang,i=e.mode;r=r.toUpperCase(),n.length<7&&s(new Error("You should pass the `ip` parameter.")),a.forEach((e=>{e.length>0&&(this.#availableGeoIPParams.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')))})),this.#availableFormats.includes(t)||s(new Error('The `format` option value "'+r+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),this.#availableLanguages.includes(r)||s(new Error('The `lang` option value "'+r+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),"live"!==i&&"test"!==i&&s(new Error('The `mode` option value "'+r+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/lookup-method#options')),this.#makeHttpRquest("IPLookup",{ip:n,key:this.#key,params:a.join(","),format:t,lang:r,mode:i},(e=>{o(e)}))}))}country(e={countryCode:"",params:[],format:"JSON",lang:"EN",mode:"live"}){return new Promise(((o,s)=>{let n=e.countryCode,a=e.params,t=e.format,r=e.lang,i=e.mode;n=n.toUpperCase(),r=r.toUpperCase(),2!==n.length&&s(new Error("You should pass the `countryCode` parameter. Also, it should be a `ISO 3166-1 alpha-2` format.\nRead more at: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2")),a.forEach((e=>{e.length>0&&(this.#availableCountryParams.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `language`, `flag`, `currency` and/or `timezone`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')))})),this.#availableFormats.includes(t)||s(new Error('The `format` option value "'+r+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),this.#availableLanguages.includes(r)||s(new Error('The `lang` option value "'+r+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),"live"!==i&&"test"!==i&&s(new Error('The `mode` option value "'+r+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/sdks/js/country-method#options')),this.#makeHttpRquest("Country",{CountryCode:n,key:this.#key,params:a.join(","),format:t,lang:r,mode:i},(e=>{o(e)}))}))}}