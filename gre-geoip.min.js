class GREGeoIP{#key;#baseURL="https://gregeoip.com/";#availableGeoIPParams=["security","timezone","currency","device"];#availableLanguages=["EN","AR","DE","FR","ES","JA","ZH","RU"];#availableFormats=["JSON","XML","CSV","Newline"];#availableCountryParams=["language","flag","currency","timezone"];constructor(e){if(!(this.#key.length>0))throw new Error("You should pass the API Key.");this.#key=e}#serialize=function(e){var o=[];for(var n in e)e.hasOwnProperty(n)&&o.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return o.join("&")};#makeHttpRquest(e,o,n){o.source="JS-Package";let a=new XMLHttpRequest;a.onreadystatechange=function(){4==a.readyState&&200==a.status&&n(a.responseText)},a.open("GET",this.#baseURL+"/"+e+"?"+this.#serialize(o),!0),a.send(null)}geoip(e=[],o="JSON",n="EN",a="live"){return new Promise(((t,s)=>{n=n.toUpperCase(),e.forEach((e=>{e.length>0&&(this.#availableGeoIPParams.includes(e)||s(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/options/custom-modules-response')))})),this.#availableFormats.includes(o)||s(new Error('The `format` option value "'+n+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/options/response-format')),this.#availableLanguages.includes(n)||s(new Error('The `lang` option value "'+n+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/options/localization')),"live"!==a&&"test"!==a&&s(new Error('The `mode` option value "'+n+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/options/development-environment')),this.#makeHttpRquest("GeoIP",{key:this.#key,params:e.join(","),format:o,lang:n,mode:a},(e=>{t(e)}))}))}lookup(e,o=[],n="JSON",a="EN",t="live"){return new Promise(((s,i)=>{a=a.toUpperCase(),e.length<7&&i(new Error("You should pass the `ip` parameter.")),o.forEach((e=>{e.length>0&&(this.#availableGeoIPParams.includes(e)||i(new Error('The "'+e+'" module you used is unknown.\nYou can use: `security`, `timezone`, `currency` and/or `device`.\nRead more at: https://geoip-docs.gredev.io/options/custom-modules-response')))})),this.#availableFormats.includes(n)||i(new Error('The `format` option value "'+a+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/options/response-format')),this.#availableLanguages.includes(a)||i(new Error('The `lang` option value "'+a+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/options/localization')),"live"!==t&&"test"!==t&&i(new Error('The `mode` option value "'+a+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/options/development-environment')),this.#makeHttpRquest("IPLookup",{ip:e,key:this.#key,params:o.join(","),format:n,lang:a,mode:t},(e=>{s(e)}))}))}country(e,o=[],n="JSON",a="EN",t="live"){return new Promise(((s,i)=>{e=e.toUpperCase(),a=a.toUpperCase(),2!==e.length&&i(new Error("You should pass the `countryCode` parameter. Also, it should be a `ISO 3166-1 alpha-2` format.\nRead more at: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2")),o.forEach((e=>{e.length>0&&(this.#availableCountryParams.includes(e)||i(new Error('The "'+e+'" module you used is unknown.\nYou can use: `language`, `flag`, `currency` and/or `timezone`.\nRead more at: https://geoip-docs.gredev.io/methods/country-data-api#possible-param')))})),this.#availableFormats.includes(n)||i(new Error('The `format` option value "'+a+'" you specified is unknown.\nYou can use: `JSON`, `XML`, `CSV` or `Newline`.\nRead more at: https://geoip-docs.gredev.io/options/response-format')),this.#availableLanguages.includes(a)||i(new Error('The `lang` option value "'+a+'" you specified is unknown.\nYou can use: `EN`, `AR`, `DE`, `FR`, `ES`, `JA`, `ZH` or `RU`.\nRead more at: https://geoip-docs.gredev.io/options/localization')),"live"!==t&&"test"!==t&&i(new Error('The `mode` option value "'+a+'" you specified is unknown.\nYou can use: `live` or `test`.\nRead more at: https://geoip-docs.gredev.io/options/development-environment')),this.#makeHttpRquest("Country",{CountryCode:e,key:this.#key,params:o.join(","),format:n,lang:a,mode:t},(e=>{s(e)}))}))}}